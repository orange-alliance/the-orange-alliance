<main class="container">

  <div *ngIf="match_data && match_event" class="row">
    <div class="col-xs-12">
      <h2><a href="/events/{{ match_event.event_key }}">{{ match_event.event_name }}<span *ngIf="match_event.division_name"> - {{ match_event.division_name }} Division</span></a> <small>{{ match_data.match_name }}</small></h2>
    </div>
  </div>

  <div class="row">

    <div *ngIf="match_data" class="col-xs-12 col-md-6 pad-bot-25">

      <table class="match-table">
        <thead>
        <tr>
          <th colspan="6">Teams</th>
          <th>Score</th>
        </tr>
        </thead>
        <tbody *ngIf="getNumberOfTeams() == 6">
        <tr class="red">
          <td colspan="2" class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            <a href="/teams/{{ getStation(0) }}">{{ getStation(0) }}</a>
          </td>
          <td colspan="2" class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            <a href="/teams/{{ getStation(1) }}">{{ getStation(1) }}</a>
          </td>
          <td colspan="2" class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            <a href="/teams/{{ getStation(2) }}">{{ getStation(2) }}</a>
          </td>
          <td class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            {{ match_data.red_score }}
          </td>
        </tr>
        <tr class="blue">
          <td colspan="2" class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            <a href="/teams/{{ getStation(3) }}">{{ getStation(3) }}</a>
          </td>
          <td colspan="2" class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            <a href="/teams/{{ getStation(4) }}">{{ getStation(4) }}</a>
          </td>
          <td colspan="2" class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            <a href="/teams/{{ getStation(5) }}">{{ getStation(5) }}</a>
          </td>
          <td class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            {{ match_data.blue_score }}
          </td>
        </tr>
        </tbody>
        <tbody *ngIf="getNumberOfTeams() == 4">
        <tr class="red">
          <td colspan="3" class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            <a href="/teams/{{ getStation(0) }}">{{ getStation(0) }}</a>
          </td>
          <td colspan="3" class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            <a href="/teams/{{ getStation(1) }}">{{ getStation(1) }}</a>
          </td>
          <td class="red" [class.match-winner]="match_data.red_score >= match_data.blue_score">
            {{ match_data.red_score }}
          </td>
        </tr>
        <tr class="blue">
          <td colspan="3" class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            <a href="/teams/{{ getStation(2) }}">{{ getStation(2) }}</a>
          </td>
          <td colspan="3" class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            <a href="/teams/{{ getStation(3) }}">{{ getStation(3) }}</a>
          </td>
          <td class="blue" [class.match-winner]="match_data.red_score <= match_data.blue_score">
            {{ match_data.blue_score }}
          </td>
        </tr>
        </tbody>
      </table>

    </div>

    <div *ngIf="match_data" class="col-xs-12 col-md-6 pad-bot-25">

      <div class="panel panel-warning">
        <div class="panel-heading">
          <div class="panel-title">
            <b>Match Data</b>
          </div>
        </div>
        <div class="panel-body">

          <div class="row">
            <div class="col-xs-2 col-md-1">
              <span class="fa fa-code"></span>
            </div>
            <div class="col-xs-10 col-md-11">
              {{ match_data.match_key }}
            </div>
          </div>

          <div class="row">
            <div class="col-xs-2 col-md-1">
              <span class="fa fa-youtube-play"></span>
            </div>
            <div *ngIf="match_data.video_url" class="col-xs-10 col-md-11">
              <a href="{{ match_data.video_url }}">{{ match_data.video_url }}</a>
            </div>
            <div *ngIf="!match_data.video_url" class="col-xs-10 col-md-11">
              <i>No video available.</i>
            </div>
          </div>

        </div>
      </div>

    </div>

    <!-- SWITCH STATEMENT BASICALLY HERE -->

    <div class="row" *ngIf="match_data && match_details">
      <velocity-vortex *ngIf="getMatchSeason() == 1617" [match_data]="match_data" [match_details]="match_details" [match_stations]="match_stations"></velocity-vortex>
      <relic-recovery *ngIf="getMatchSeason() == 1718" [match_data]="match_data" [match_details]="match_details" [match_stations]="match_stations"></relic-recovery>
    </div>

    <div class="row" *ngIf="match_data && !match_details">
      <velocity-vortex *ngIf="getMatchSeason() == 1617" [match_data]="match_data" [match_stations]="match_stations"></velocity-vortex>
      <relic-recovery *ngIf="getMatchSeason() == 1718" [match_data]="match_data" [match_stations]="match_stations"></relic-recovery>
    </div>

    <div class="row" *ngIf="!match_data">
      <h2>No match data found</h2>
    </div>

  </div>

</main>
